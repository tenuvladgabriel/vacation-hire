using System.Reflection;using Microsoft.EntityFrameworkCore;using Microsoft.Extensions.Configuration;using Microsoft.Extensions.DependencyInjection;using VacationHireInc.Business.Abstractions;using VacationHireInc.Business.Services;using VacationHireInc.Business.Services.Customer;using VacationHireInc.Business.Services.Reservation;using VacationHireInc.Data;using VacationHireInc.Data.Abstraction;namespace VacationHireInc.Business.Extensions{    public static class RegistrationServiceExtension    {        public static IServiceCollection AddService(this IServiceCollection service, IConfiguration configuration)        {            service.AddScoped<IRepository, Repository>();            service.AddScoped<ICustomerService, CustomerService>();            service.AddScoped<IReceptionCardService, ReceptionCardService>();            service.AddScoped<IReservationService, ReservationService>();            service.AddScoped<IVehicleService, VehicleService>();            service.ConnectToDatabase(configuration);            return service;        }        private static IServiceCollection ConnectToDatabase(this IServiceCollection service, IConfiguration configuration)        {            var migrationsAssembly = typeof(Constants).GetTypeInfo().Assembly.GetName().Name;            service.AddDbContext<VacationHireContext>(options =>                options.UseNpgsql(configuration.GetValue<string>("ConnectionStrings:PGConnection"),                    builder => { builder.MigrationsAssembly(migrationsAssembly); }));            return service;        }    }}